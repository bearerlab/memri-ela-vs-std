# Region of Interest Analysis Comparisons between MEMRI and c-fos IHC

## Overview
This section contains scripts for ROI Measurements from MEMRI Images, and other scripts for the analysis of these images and correlations with c-fos+ staining in micrographs. 

**Associated Figures/Tables:**
- Figure 3-4 (ROI comparisons of signal intensity magnitudes, and Comparisons to c-fos+ staining)
- Supplemental Figures S4-6 (test-retest, bootstrapped correlations, effects of smoothing)
- Supplemental Tables S2-4 (ROI locations - for Fig. 3, and statistical summaries)

## Directory Structure

Note: Files/Scripts listed below are placed in order of processing steps - intermingled between sub-directories, and not necessarily in alphanumeric order.

```
02_roi_analysis/
├── 01_SNR                             # Signal-to-Noise Ratio Analysis                
│  └── SNR_memri_analysis.Rmd          # R markdown file for SNR Analysis
├── 02_Fig3_memri                      # MEMRI Signal Intensities in Threat Responsive Regions               
│  └── Fig3_analysis.Rmd               # R markdown file for comparisons in Fig. 3
├── 03_Fig4_memri_cfos_comparisons     # MEMRI SI measurements for comparison to c-fos       
│  ├── Fig4_cfos_analysis.Rmd          # R markdown file for comparisons in Fig. 4
│  └── memri_test_retest_analysis.Rmd  # R markdown file for supplmental test-retest              
└── 04_smoothing_effects               # MEMRI SIs as in 01_Fig3_memri but on smoothed images      
   └── smoothing_memri_analysis.Rmd    # R markdown file for SNR Analysis
```

## Script Descriptions

### ROI Measurement Scripts (non-specific)

For a general description of ROI measurement scripts, please see the following Bearer Lab GitHub repo...

[ROI Scripts Repo]()

### ROI Analysis Markdown Files 

#### `SNR_memri_analysis.Rmd`
**Purpose:** To statistically compare and visualize SNR between groups - test whether there is a difference in MnCl2 dose via differences in SNR.

**Dependencies:** R/RStudio (see [requirements]{../requirements/requirements.md}).

**Usage:** Knit R Markdown File in R Studio

**Inputs:** CSV file generated by running ./ROI_feeder_snr.sh 

**Outputs:** Statistical summaries and plots shown in Fig. S2D.

#### `Fig3_analysis.Rmd`
**Purpose:** To perform comparisons described in results text for Fig. 3. Comparison of threat-activated regions within the ELA group (A) and between groups (B).  

**Dependencies:** R/RStudio (see 

**Usage:** Knit R Markdown File in R Studio

**Inputs:** CSV file generated by running ./ROI_feeder_fig3.sh 

**Outputs:** Statistical summaries and plots shown in Fig. 3 and Tables S3-4.

#### `Fig4_cfos_analysis.Rmd`
**Purpose:** To compare signal intensities and c-fos counts between regions of high and low signal/staining and to perform between-modality correlations.

**Dependencies:** R/RStudio (see [requirements]{../requirements/requirements.md}).

**Usage:** Knit R Markdown File in R Studio

**Inputs:** CSV file generated by running ./ROI_feeder_cfos.sh 

**Outputs:** Statistical summaries and plots shown in Fig. 4 and S5.

#### `memri_test_retest_analysis.Rmd`
**Purpose:** To test differences in MEMRI signal intensities as in Fig, 4, but on the other subset of mice whose brains were not processed for histology.

**Dependencies:** R/RStudio (see [requirements]{../requirements/requirements.md}).

**Usage:** Knit R Markdown File in R Studio

**Inputs:** CSV file generated by running ./ROI_feeder_cfos.sh 

**Outputs:** Statistical summaries and plots shown in Fig. S2D.

#### `smoothing_memri_analysis.Rmd`
**Purpose:** To statistically compare signal intensities of images before and after smoothing.

**Dependencies:** R/RStudio (see [requirements]{../requirements/requirements.md}).

**Usage:** Knit R Markdown File in R Studio

**Inputs:** CSV file generated by running ./ROI_feeder_smooth.sh 

**Outputs:** Statistical summaries and plots shown in Fig. S6.
