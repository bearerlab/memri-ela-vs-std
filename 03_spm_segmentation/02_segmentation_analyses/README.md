# Segmentation Analysis R File

Here, we provide the R code used to generate column graphs in Fig. 5, 6, and S8.

## Script Description

### `fracvol_graph.R`

**Purpose:** To generate column graphs from the segmentation of statistical maps.  

**Dependencies:** R/RStudio (see [Requirements](../../requirements/) for more on R packages used.)

**Usage:** Knit R Markdown File in R Studio

**Inputs:** 
- datasubset = Processed Data subset by group/condition
- fill = Character string indicating either Group variable (e.g., 'ELA') or Condition variable (e.g., 'Condition').
- col_vals = a list of R color values matching the number of levels in the fill grouping variable.
- plot = Boolean input to output plot in R
- save = Boolean input to save ggplot as tiff (default dpi = 320)
- fname = Filename for ggsave function
- fig_dims = Dimensions in inches of output figure.

**Outputs:** Column graphs of fractional volumes and summary csv file.

Note that an `./OutputData/ColumnGraphs/` and `./OutputData/Tables/` subdirectory will be generated.


### `invivo_atlas_process.R`

**Purpose:**  To load _InVivo_ Atlas sorting data for organization of column graph anatomy.

**Dependencies:** R/RStudio (see [Requirements](../../requirements/README.md) for more on R packages used.)

**Usage:** Knit R Markdown File in R Studio

**Inputs:** 
- atlas_lut = _InVivo_ Atlas sorting CSV file
- segmentation_data = Loaded and Semi-Processed segmentation data as in fav and fdv analysis files below.

**Outputs:** A processed segmentation_data R data frame with new columns/variables corresponding to the segment abbreviations and segment domains




### `fav_analysis.R` and `fdv_analysis.R`

**Purpose:** To organize SPM segmentation data and create graphic data visualizations and summaries.  

**Dependencies:** R/RStudio (see [Requirements](../../requirements/README.md) for more on R packages used.)

**Usage:** Knit R Markdown File in R Studio.

**Inputs:** CSV file generated by running segmentation feeder script ./feeder.sh

**Outputs:** Statistical summaries and plots shown in Fig. 5, 6 and S8. FDV analysis also outputs dynamic line graphs in Fig. 6 in addition to column graphs and tables.
